





# 绘图优化

完成复杂的 UI 效果时，尽可能选择一个功能复杂的布局(如：RelativeLayout、ConstraintLayout)完成，而不要选择多个功能简单的布局(如：FrameLayout、LinearLayout)通过嵌套完成。



### 尽可能少用 wrap_content

布局属性 `wrap_content` 会增加布局测量时计算成本，应尽可能少用。在已知宽高为固定值的情况下，不使用 `wrap_content` 属性。



## 使用viewstub

`viewstub` 引入的布局默认不会扩张，即既不会占用显示也不会占用位置，从而在解析布局时节省 CPU 和内存。 标签常用来引入那些默认不会显示，只在特殊情况下显示的布局，如进度布局、网络失败显示的刷新布局、信息出错出现的提示布局等。
 



## 用 SurfaceView 或 TextureView 代替普通 View

`SurfaceView` 或 `TextureView` 可以通过将绘图操作移动到另一个单独线程上提高性能。普通 View 的绘制过程都是在主线程(UI 线程)中完成，如果某些绘图操作影响性能就不好优化了，这时可以考虑使用 `SurfaceView` 和 `TextureView`，他们的绘图操作发生在 UI 线程之外的另一个线程上。

因为 `SurfaceView` 在常规视图系统之外，所以无法像常规试图一样移动、缩放或旋转一个 `SurfaceView`。`TextureView` 是 Android 4.0 引入的，除了与 `SurfaceView` 一样在单独线程绘制外，还可以像常规视图一样被改变。



## 使用 OpenGL 绘图

## Android Studio的Layout Inspector



























































































